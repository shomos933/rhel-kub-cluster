{
  "version": 4,
  "terraform_version": "1.11.0",
  "serial": 22,
  "lineage": "2a4a4f09-67c1-6c46-4cd3-0b96dc2955f4",
  "outputs": {
    "master": {
      "value": {
        "ip": "192.168.122.121",
        "name": "k8s-master"
      },
      "type": [
        "object",
        {
          "ip": "string",
          "name": "string"
        }
      ]
    },
    "workers": {
      "value": [
        {
          "ip": "192.168.122.122",
          "name": "k8s-worker-1"
        },
        {
          "ip": "192.168.122.123",
          "name": "k8s-worker-2"
        }
      ],
      "type": [
        "tuple",
        [
          [
            "object",
            {
              "ip": "string",
              "name": "string"
            }
          ],
          [
            "object",
            {
              "ip": "string",
              "name": "string"
            }
          ]
        ]
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "template_file",
      "name": "master_ci",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "838a62a0c09052b72c4418b42a7f0de86e9ea3643c9e10c4cc51df616008ade0",
            "rendered": "#cloud-config\ndatasource_list: [NoCloud]\npreserve_hostname: false\nhostname: k8s-master\nmanage_etc_hosts: false\nusers:\n  - name: ubuntu\n    gecos: \"User for Ansible automation\"\n    sudo: [\"ALL=(ALL) NOPASSWD:ALL\"]\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ~/.ssh/id_rsa.pub\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses: [\"192.168.122.121/24\"]\n      gateway4: 192.168.122.1\n      nameservers:\n        addresses: [192.168.122.1]\n\n",
            "template": "#cloud-config\ndatasource_list: [NoCloud]\npreserve_hostname: false\nhostname: ${hostname}\nmanage_etc_hosts: false\nusers:\n  - name: ubuntu\n    gecos: \"User for Ansible automation\"\n    sudo: [\"ALL=(ALL) NOPASSWD:ALL\"]\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ${ssh_key}\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses: [\"${static_ip}/24\"]\n      gateway4: 192.168.122.1\n      nameservers:\n        addresses: [192.168.122.1]\n\n",
            "vars": {
              "hostname": "k8s-master",
              "ssh_key": "~/.ssh/id_rsa.pub",
              "static_ip": "192.168.122.121"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "worker_ci",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "75a581ea40761e7ff2c044fc4fb0f7d0ee8ec9674cb5e33570493343cf9a25ea",
            "rendered": "#cloud-config\ndatasource_list: [NoCloud]\npreserve_hostname: false\nhostname: k8s-worker-1\nmanage_etc_hosts: false\nusers:\n  - name: ubuntu\n    gecos: \"User for Ansible automation\"\n    sudo: [\"ALL=(ALL) NOPASSWD:ALL\"]\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ~/.ssh/id_rsa.pub\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses: [\"192.168.122.122/24\"]\n      gateway4: 192.168.122.1\n      nameservers:\n        addresses: [192.168.122.1]\n\n",
            "template": "#cloud-config\ndatasource_list: [NoCloud]\npreserve_hostname: false\nhostname: ${hostname}\nmanage_etc_hosts: false\nusers:\n  - name: ubuntu\n    gecos: \"User for Ansible automation\"\n    sudo: [\"ALL=(ALL) NOPASSWD:ALL\"]\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ${ssh_key}\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses: [\"${static_ip}/24\"]\n      gateway4: 192.168.122.1\n      nameservers:\n        addresses: [192.168.122.1]\n\n",
            "vars": {
              "hostname": "k8s-worker-1",
              "ssh_key": "~/.ssh/id_rsa.pub",
              "static_ip": "192.168.122.122"
            }
          },
          "sensitive_attributes": []
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "5a7376aae36b5669366e44c20b4bdb683cb877f1028c466a345d5653f3047f31",
            "rendered": "#cloud-config\ndatasource_list: [NoCloud]\npreserve_hostname: false\nhostname: k8s-worker-2\nmanage_etc_hosts: false\nusers:\n  - name: ubuntu\n    gecos: \"User for Ansible automation\"\n    sudo: [\"ALL=(ALL) NOPASSWD:ALL\"]\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ~/.ssh/id_rsa.pub\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses: [\"192.168.122.123/24\"]\n      gateway4: 192.168.122.1\n      nameservers:\n        addresses: [192.168.122.1]\n\n",
            "template": "#cloud-config\ndatasource_list: [NoCloud]\npreserve_hostname: false\nhostname: ${hostname}\nmanage_etc_hosts: false\nusers:\n  - name: ubuntu\n    gecos: \"User for Ansible automation\"\n    sudo: [\"ALL=(ALL) NOPASSWD:ALL\"]\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ${ssh_key}\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses: [\"${static_ip}/24\"]\n      gateway4: 192.168.122.1\n      nameservers:\n        addresses: [192.168.122.1]\n\n",
            "vars": {
              "hostname": "k8s-worker-2",
              "ssh_key": "~/.ssh/id_rsa.pub",
              "static_ip": "192.168.122.123"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_cloudinit_disk",
      "name": "master_iso",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/home/shom/virsh_HDD/k8s_pool/k8s-master-cloudinit.iso;baa946e6-0b80-4cd5-8ecb-cc2d3cbf80eb",
            "meta_data": "",
            "name": "k8s-master-cloudinit.iso",
            "network_config": "",
            "pool": "k8s_pool",
            "user_data": "#cloud-config\ndatasource_list: [NoCloud]\npreserve_hostname: false\nhostname: k8s-master\nmanage_etc_hosts: false\nusers:\n  - name: ubuntu\n    gecos: \"User for Ansible automation\"\n    sudo: [\"ALL=(ALL) NOPASSWD:ALL\"]\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ~/.ssh/id_rsa.pub\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses: [\"192.168.122.121/24\"]\n      gateway4: 192.168.122.1\n      nameservers:\n        addresses: [192.168.122.1]\n\n"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.master_ci",
            "libvirt_pool.k8s_pool"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_cloudinit_disk",
      "name": "worker_iso",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/home/shom/virsh_HDD/k8s_pool/k8s-worker-1-cloudinit.iso;1c84da67-ec16-49f3-acee-49000c82504d",
            "meta_data": "",
            "name": "k8s-worker-1-cloudinit.iso",
            "network_config": "",
            "pool": "k8s_pool",
            "user_data": "#cloud-config\ndatasource_list: [NoCloud]\npreserve_hostname: false\nhostname: k8s-worker-1\nmanage_etc_hosts: false\nusers:\n  - name: ubuntu\n    gecos: \"User for Ansible automation\"\n    sudo: [\"ALL=(ALL) NOPASSWD:ALL\"]\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ~/.ssh/id_rsa.pub\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses: [\"192.168.122.122/24\"]\n      gateway4: 192.168.122.1\n      nameservers:\n        addresses: [192.168.122.1]\n\n"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.worker_ci",
            "libvirt_pool.k8s_pool"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "id": "/home/shom/virsh_HDD/k8s_pool/k8s-worker-2-cloudinit.iso;c061f813-c2d5-4519-9bf3-ef0b2b8784ee",
            "meta_data": "",
            "name": "k8s-worker-2-cloudinit.iso",
            "network_config": "",
            "pool": "k8s_pool",
            "user_data": "#cloud-config\ndatasource_list: [NoCloud]\npreserve_hostname: false\nhostname: k8s-worker-2\nmanage_etc_hosts: false\nusers:\n  - name: ubuntu\n    gecos: \"User for Ansible automation\"\n    sudo: [\"ALL=(ALL) NOPASSWD:ALL\"]\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ~/.ssh/id_rsa.pub\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses: [\"192.168.122.123/24\"]\n      gateway4: 192.168.122.1\n      nameservers:\n        addresses: [192.168.122.1]\n\n"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.worker_ci",
            "libvirt_pool.k8s_pool"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_pool",
      "name": "k8s_pool",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation": 12439695360,
            "available": 152240504832,
            "capacity": 164680200192,
            "id": "6d17f6dd-7f99-4d16-8e13-57e934c2b474",
            "name": "k8s_pool",
            "path": null,
            "source": [],
            "target": [
              {
                "path": "/home/shom/virsh_HDD/k8s_pool"
              }
            ],
            "type": "dir",
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_volume",
      "name": "master_disk",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base_volume_id": null,
            "base_volume_name": null,
            "base_volume_pool": null,
            "format": "qcow2",
            "id": "/home/shom/virsh_HDD/k8s_pool/k8s-master.qcow2",
            "name": "k8s-master.qcow2",
            "pool": "k8s_pool",
            "size": 3758096384,
            "source": "/home/shom/OS_images/ubuntu-24.04-server-cloudimg-amd64.img",
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "libvirt_pool.k8s_pool"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_volume",
      "name": "worker_disk",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "base_volume_id": null,
            "base_volume_name": null,
            "base_volume_pool": null,
            "format": "qcow2",
            "id": "/home/shom/virsh_HDD/k8s_pool/k8s-worker-1.qcow2",
            "name": "k8s-worker-1.qcow2",
            "pool": "k8s_pool",
            "size": 3758096384,
            "source": "/home/shom/OS_images/ubuntu-24.04-server-cloudimg-amd64.img",
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "libvirt_pool.k8s_pool"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "base_volume_id": null,
            "base_volume_name": null,
            "base_volume_pool": null,
            "format": "qcow2",
            "id": "/home/shom/virsh_HDD/k8s_pool/k8s-worker-2.qcow2",
            "name": "k8s-worker-2.qcow2",
            "pool": "k8s_pool",
            "size": 3758096384,
            "source": "/home/shom/OS_images/ubuntu-24.04-server-cloudimg-amd64.img",
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "libvirt_pool.k8s_pool"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "resize_master_disk",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "6061861406042728770",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "libvirt_pool.k8s_pool",
            "libvirt_volume.master_disk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "resize_worker_disk",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "4801845230671963906",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "libvirt_pool.k8s_pool",
            "libvirt_volume.worker_disk"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "id": "4173668913521875575",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "libvirt_pool.k8s_pool",
            "libvirt_volume.worker_disk"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
